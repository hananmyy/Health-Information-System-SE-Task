<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Health Programs</title>
  <link rel="stylesheet" href="/css/output.css">
</head>
<body class="flex flex-col min-h-screen">

    <%- include('layouts/header'); -%>
    
  
    <main class="flex-grow">
  <div class="container mx-auto mt-10 p-8 bg-white shadow-lg rounded-lg">
    <h2 class="text-3xl font-bold text-gray-700">Manage Health Programs</h2>

    <!-- Display Existing Programs -->
    <div class="mt-6">
      <h3 class="text-xl font-semibold">Available Programs</h3>
      <% if (programs.length > 0) { %>
        <ul class="list-disc pl-6">
          <% programs.forEach(program => { %>
            <li>
              <strong class="text-blue-600"><%= program.name %></strong> - <%= program.description %>
              <% if (program.DoctorId === doctor.id) { %>
                <form action="/program/delete/<%= program.id %>" method="POST" class="inline">
                  <button class="bg-red-600 text-white px-2 py-1 rounded ml-2 hover:bg-red-700">
                    Delete
                  </button>
                </form>
              <% } %>
            </li>
          <% }); %>
        </ul>
      <% } else { %>
        <p class="text-gray-500">No health programs available.</p>
      <% } %>
    </div>

    <!-- Create a New Program -->
    <div class="mt-6 p-6 bg-white shadow-md rounded-lg">
      <h3 class="text-xl font-semibold">Create a New Health Program</h3>
      <form action="/program/create" method="POST">
        <input type="text" name="name" placeholder="Program Name" class="border w-full px-2 py-1 mb-2" required>
        <textarea name="description" placeholder="Program Description" class="border w-full px-2 py-1 mb-2"></textarea>
        <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
          Create Program
        </button>
      </form>
    </div>

    <!-- Navigation Buttons -->
    <div class="mt-6 flex justify-between">
      <form action="/doctorProfile" method="GET">
        <button class="px-4 py-2 bg-slate-700 text-white rounded-md hover:bg-slate-600 font-semibold">
          Back to Profile
        </button>
      </form>
    </div>
  </div>
</main>
  <%- include('layouts/footer'); -%>
  <script src="/js/scripts.js"></script>
</body>
</html>